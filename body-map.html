<!DOCTYPE html>
<html class="dark" lang="fr">

<head>
    <meta charset="utf-8" />
    <meta content="width=device-width, initial-scale=1.0" name="viewport" />
    <title>Carte Anatomique 3D - ESSOR ACTIVE</title>
    <link href="https://fonts.googleapis.com/css2?family=Manrope:wght@300;400;500;600;700;800&display=swap"
        rel="stylesheet" />
    <link href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:wght,FILL@100..700,0..1&display=swap"
        rel="stylesheet" />
    <script src="https://cdn.tailwindcss.com?plugins=forms,container-queries"></script>
    <script>
        tailwind.config = {
            darkMode: "class",
            theme: {
                extend: {
                    colors: {
                        "primary": "#49e619",
                        "background-dark": "#050505",
                        "surface-dark": "#121212"
                    },
                    fontFamily: { "display": ["Manrope", "sans-serif"] }
                }
            }
        }
    </script>
    <style>
        .material-symbols-outlined {
            font-variation-settings: 'FILL' 1;
        }

        .muscle-path {
            fill: #2a3626;
            /* Dark Greenish Grey */
            stroke: #49e619;
            /* Primary */
            stroke-width: 1;
            opacity: 0.6;
            transition: all 0.3s ease;
            cursor: pointer;
        }

        .muscle-path:hover {
            fill: #3a4b35;
            opacity: 0.8;
        }

        #g-front,
        #g-back {
            transform-origin: center center;
        }

        .hide-scrollbar::-webkit-scrollbar {
            display: none;
        }
    </style>
</head>

<body class="bg-background-dark text-white font-display overflow-hidden h-screen w-full relative select-none">

    <!-- Top Navigation -->
    <header class="absolute top-0 w-full z-20 flex justify-between items-center p-6 pointer-events-none">
        <button onclick="window.history.back()"
            class="pointer-events-auto p-2 rounded-full bg-black/20 backdrop-blur-md border border-white/10">
            <span class="material-symbols-outlined">arrow_back</span>
        </button>

        <!-- View Toggle -->
        <div
            class="pointer-events-auto bg-surface-dark/90 backdrop-blur-md rounded-full p-1 border border-white/5 flex shadow-2xl">
            <button id="btn-view-front" onclick="toggleView('front')"
                class="px-5 py-2 bg-primary text-black font-bold rounded-full text-xs uppercase tracking-wider transition-all">Face</button>
            <button id="btn-view-back" onclick="toggleView('back')"
                class="px-5 py-2 text-gray-400 font-bold rounded-full text-xs uppercase tracking-wider transition-all">Dos</button>
        </div>

        <button onclick="resetZoom()"
            class="pointer-events-auto p-2 rounded-full bg-black/20 backdrop-blur-md border border-white/10">
            <span class="material-symbols-outlined">restart_alt</span>
        </button>
    </header>

    <!-- MAIN SVG CONTAINER -->
    <div class="w-full h-full flex items-center justify-center relative">

        <!-- ANTERIOR VIEW (FACE) -->
        <div id="body-front" class="w-full h-full max-w-lg relative transition-opacity duration-500">
            <svg id="svg-front" viewBox="0 0 500 900" class="w-full h-full drop-shadow-[0_0_15px_rgba(73,230,25,0.1)]">
                <g id="g-front">
                    <!-- Head/Neck -->
                    <path id="scm" class="muscle-path" d="M230,110 L220,150 L240,160 L245,120 Z"
                        onclick="onMuscleClick('scm', this)" />
                    <path id="scm_r" class="muscle-path" d="M270,110 L280,150 L260,160 L255,120 Z"
                        onclick="onMuscleClick('scm', this)" />

                    <!-- Torso -->
                    <path id="pectoral_major" class="muscle-path"
                        d="M190,190 Q250,220 310,190 L330,220 Q250,280 170,220 Z"
                        onclick="onMuscleClick('pectoral_major', this)" />
                    <path id="rectus_abdominis" class="muscle-path" d="M220,280 L280,280 L270,450 L230,450 Z"
                        onclick="onMuscleClick('rectus_abdominis', this)" />
                    <path id="obliques" class="muscle-path" d="M190,280 Q170,350 190,440 L230,450 L220,280 Z"
                        onclick="onMuscleClick('obliques', this)" />
                    <path id="obliques_r" class="muscle-path" d="M310,280 Q330,350 310,440 L270,450 L280,280 Z"
                        onclick="onMuscleClick('obliques', this)" />

                    <!-- Arms -->
                    <path id="deltoid_ant" class="muscle-path" d="M160,180 Q130,200 135,240 L165,230 L190,190 Z"
                        onclick="onMuscleClick('deltoid_ant', this)" />
                    <path id="deltoid_ant_r" class="muscle-path" d="M340,180 Q370,200 365,240 L335,230 L310,190 Z"
                        onclick="onMuscleClick('deltoid_ant', this)" />

                    <path id="biceps" class="muscle-path" d="M135,240 L125,310 L155,310 L165,230 Z"
                        onclick="onMuscleClick('biceps', this)" />
                    <path id="biceps_r" class="muscle-path" d="M365,240 L375,310 L345,310 L335,230 Z"
                        onclick="onMuscleClick('biceps', this)" />

                    <path id="forearm_flexors" class="muscle-path" d="M125,320 L110,420 L140,420 L150,320 Z"
                        onclick="onMuscleClick('forearm_flexors', this)" />
                    <path id="forearm_flexors_r" class="muscle-path" d="M375,320 L390,420 L360,420 L350,320 Z"
                        onclick="onMuscleClick('forearm_flexors', this)" />

                    <!-- Legs -->
                    <path id="quadriceps" class="muscle-path" d="M200,470 L180,680 L240,680 L260,550 L230,470 Z"
                        onclick="onMuscleClick('quadriceps', this)" />
                    <path id="quadriceps_r" class="muscle-path" d="M300,470 L320,680 L260,680 L240,550 L270,470 Z"
                        onclick="onMuscleClick('quadriceps', this)" />

                    <path id="adductors" class="muscle-path" d="M245,490 L245,620 L260,550 Z"
                        onclick="onMuscleClick('adductors', this)" />

                    <path id="tibialis_anterior" class="muscle-path" d="M190,700 L180,850 L210,850 L220,700 Z"
                        onclick="onMuscleClick('tibialis_anterior', this)" />
                    <path id="tibialis_anterior_r" class="muscle-path" d="M310,700 L320,850 L290,850 L280,700 Z"
                        onclick="onMuscleClick('tibialis_anterior', this)" />
                </g>
            </svg>
        </div>

        <!-- POSTERIOR VIEW (DOS) -->
        <div id="body-back" class="w-full h-full max-w-lg relative transition-opacity duration-500 hidden">
            <svg id="svg-back" viewBox="0 0 500 900" class="w-full h-full drop-shadow-[0_0_15px_rgba(73,230,25,0.1)]">
                <g id="g-back">
                    <!-- Back Muscles -->
                    <path id="trapezius_sup" class="muscle-path" d="M220,110 L280,110 L320,180 L180,180 Z"
                        onclick="onMuscleClick('trapezius_sup', this)" />
                    <path id="trapezius_mid_inf" class="muscle-path" d="M220,190 L280,190 L250,350 Z"
                        onclick="onMuscleClick('trapezius_mid_inf', this)" />

                    <path id="latissimus" class="muscle-path"
                        d="M190,260 L160,320 L240,450 L260,450 L340,320 L310,260 L250,400 Z"
                        onclick="onMuscleClick('latissimus', this)" />

                    <!-- Arms Back -->
                    <path id="triceps" class="muscle-path" d="M140,240 L130,310 L160,310 L170,240 Z"
                        onclick="onMuscleClick('triceps', this)" />
                    <path id="triceps_r" class="muscle-path" d="M360,240 L370,310 L340,310 L330,240 Z"
                        onclick="onMuscleClick('triceps', this)" />

                    <!-- Glutes -->
                    <path id="gluteus_max" class="muscle-path" d="M210,460 Q170,500 200,550 L250,550 L250,460 Z"
                        onclick="onMuscleClick('gluteus_max', this)" />
                    <path id="gluteus_max_r" class="muscle-path" d="M290,460 Q330,500 300,550 L250,550 L250,460 Z"
                        onclick="onMuscleClick('gluteus_max', this)" />

                    <!-- Legs Back -->
                    <path id="hamstrings" class="muscle-path" d="M200,560 L190,690 L240,690 L240,560 Z"
                        onclick="onMuscleClick('hamstrings', this)" />
                    <path id="hamstrings_r" class="muscle-path" d="M300,560 L310,690 L260,690 L260,560 Z"
                        onclick="onMuscleClick('hamstrings', this)" />

                    <path id="calves" class="muscle-path" d="M190,700 L200,800 L230,780 L235,700 Z"
                        onclick="onMuscleClick('calves', this)" />
                    <path id="calves_r" class="muscle-path" d="M310,700 L300,800 L270,780 L265,700 Z"
                        onclick="onMuscleClick('calves', this)" />
                </g>
            </svg>
        </div>
    </div>

    <!-- DETAIL SHEET BOTTOM -->
    <div id="detail-sheet"
        class="absolute bottom-0 left-0 w-full bg-[#131613] rounded-t-[3rem] shadow-[0_-10px_60px_rgba(0,0,0,0.9)] z-30 transform translate-y-[110%] transition-transform duration-500 h-[75vh] flex flex-col border-t border-white/10">

        <!-- Drag Handle -->
        <div class="w-full flex justify-center pt-4 pb-2" onclick="closeSheet()">
            <div class="w-12 h-1 bg-white/20 rounded-full"></div>
        </div>

        <!-- Content -->
        <div class="px-8 pt-4 pb-12 overflow-y-auto hide-scrollbar space-y-6">

            <div class="flex justify-between items-start">
                <div>
                    <h2 class="text-3xl font-black text-white leading-tight" id="sheet-title">Muscle</h2>
                    <p class="text-primary font-bold text-xs uppercase tracking-widest mt-1" id="sheet-subtitle">LATIN
                        NAME</p>
                </div>
                <button onclick="closeSheet()" class="p-2 bg-white/5 rounded-full hover:bg-white/10">
                    <span class="material-symbols-outlined text-gray-400">close</span>
                </button>
            </div>

            <p class="text-gray-400 text-sm leading-relaxed" id="sheet-desc">
                Description of the muscle...
            </p>

            <!-- Data Grid -->
            <div class="grid gap-3">
                <div class="bg-white/5 p-4 rounded-2xl border border-white/5">
                    <div class="flex items-center gap-2 mb-1">
                        <span class="material-symbols-outlined text-primary text-sm">trip_origin</span>
                        <span class="text-[10px] uppercase font-bold text-gray-500">Origine</span>
                    </div>
                    <p class="text-sm font-medium text-white pl-6" id="sheet-origin">...</p>
                </div>

                <div class="bg-white/5 p-4 rounded-2xl border border-white/5">
                    <div class="flex items-center gap-2 mb-1">
                        <span class="material-symbols-outlined text-red-500 text-sm">flag</span>
                        <span class="text-[10px] uppercase font-bold text-gray-500">Insertion</span>
                    </div>
                    <p class="text-sm font-medium text-white pl-6" id="sheet-insertion">...</p>
                </div>

                <div class="bg-white/5 p-4 rounded-2xl border border-white/5">
                    <div class="flex items-center gap-2 mb-1">
                        <span class="material-symbols-outlined text-blue-500 text-sm">fitness_center</span>
                        <span class="text-[10px] uppercase font-bold text-gray-500">Action</span>
                    </div>
                    <p class="text-sm font-medium text-white pl-6" id="sheet-action">...</p>
                </div>
            </div>

            <!-- Action Button -->
            <button
                class="w-full bg-primary text-black font-black py-4 rounded-2xl shadow-neon mt-4 uppercase tracking-widest text-sm hover:scale-[1.02] transition-transform">
                Voir les exercices li√©s
            </button>
        </div>
    </div>

    <!-- SCRIPTS -->
    <script src="js/body-map-data.js"></script>
    <script src="js/body-map-logic.js"></script>
    <script>
        function openSheet() {
            document.getElementById('detail-sheet').style.transform = 'translateY(0)';
        }
        function closeSheet() {
            document.getElementById('detail-sheet').style.transform = 'translateY(110%)';
            resetZoom();
        }
    </script>
</body>

</html>